# =============================================================================
# CardioQuest Live - Voice Gateway Configuration
# =============================================================================
# Copy this file to .env and fill in your values.
# NEVER commit .env files with real secrets to git.
# =============================================================================

# -----------------------------------------------------------------------------
# OpenAI API Configuration (REQUIRED)
# -----------------------------------------------------------------------------
OPENAI_API_KEY=your_openai_api_key_here

# Model for patient responses (default: gpt-4.1-mini)
OPENAI_MODEL=gpt-4.1-mini

# Model for realtime voice (default: gpt-4o-mini-realtime-preview)
OPENAI_REALTIME_MODEL=gpt-4o-mini-realtime-preview

# Model for debrief analysis (default: uses OPENAI_MODEL)
OPENAI_DEBRIEF_MODEL=gpt-4.1-mini

# TTS Configuration
OPENAI_TTS_MODEL=gpt-4o-mini-tts
OPENAI_TTS_VOICE=alloy

# STT Configuration
OPENAI_STT_MODEL=whisper-1

# -----------------------------------------------------------------------------
# Character Voice Overrides (optional)
# Available voices: alloy, echo, fable, onyx, nova, shimmer, coral, sage, verse, ballad
# -----------------------------------------------------------------------------
# OPENAI_TTS_VOICE_PATIENT=coral
# OPENAI_TTS_VOICE_NURSE=sage
# OPENAI_TTS_VOICE_TECH=verse
# OPENAI_TTS_VOICE_CONSULTANT=ballad
# OPENAI_TTS_VOICE_IMAGING=verse

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
PORT=8081

# Allow insecure WebSocket (NO auth token verification)
# WARNING: Set to 'true' ONLY for local development. NEVER in production.
ALLOW_INSECURE_VOICE_WS=false

# -----------------------------------------------------------------------------
# Budget Limits (per session)
# -----------------------------------------------------------------------------
# Soft limit: triggers throttling (default: $3.50)
SOFT_BUDGET_USD=3.5

# Hard limit: disconnects realtime, falls back to text (default: $4.50)
HARD_BUDGET_USD=4.5

# -----------------------------------------------------------------------------
# Timing Configuration
# -----------------------------------------------------------------------------
# Scenario heartbeat interval in ms (default: 1000)
SCENARIO_HEARTBEAT_MS=1000

# Command cooldown in ms (default: 1000)
COMMAND_COOLDOWN_MS=1000

# Max WebSocket payload size in bytes (default: 262144 = 256KB)
MAX_WS_PAYLOAD_BYTES=262144

# -----------------------------------------------------------------------------
# Firebase Configuration (optional - for persistence)
# -----------------------------------------------------------------------------
# Base64-encoded service account JSON, or path to JSON file
# FIREBASE_SERVICE_ACCOUNT=

# -----------------------------------------------------------------------------
# Debug/Development (DO NOT use in production)
# -----------------------------------------------------------------------------
# Enable timing logs
# GATEWAY_TIMING=true

# Chaos testing (development only - ignored in production)
# CHAOS_WS_LATENCY_MS=500
# CHAOS_WS_DROP_PCT=25
